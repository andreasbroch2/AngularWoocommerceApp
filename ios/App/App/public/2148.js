"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2148],{2148:(ie,_,d)=>{d.r(_),d.d(_,{SubDetailsPageModule:()=>ne});var h=d(9270),f=d(579),u=d(9808),v=d(2382),l=d(8526),g=d(6010),r=d(655),x=d(8898),Z=d(7761),e=d(1223),b=d(2777),m=d(9444);function y(n,a){if(1&n&&(e.TgZ(0,"h4",23),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" Go'dag ",null==t.details?null:t.details.billing.first_name," ")}}function T(n,a){1&n&&(e.TgZ(0,"div",24),e._UZ(1,"ion-spinner",25),e.qZA())}function k(n,a){if(1&n&&(e.TgZ(0,"div",26),e._UZ(1,"ion-spinner",27),e.TgZ(2,"ion-text",28),e._uU(3),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.hij(" ",t.load,"")}}function P(n,a){if(1&n&&(e.TgZ(0,"p",56),e.TgZ(1,"span",57),e._uU(2,"\u2022 Aktiv"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" | #",t.details.id," ")}}function M(n,a){if(1&n&&(e.TgZ(0,"p",56),e.TgZ(1,"span",58),e._uU(2,"\u2022 Pause"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" | #",t.details.id," ")}}function A(n,a){if(1&n&&(e.TgZ(0,"ion-text",42),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.xi3(2,1,t.addDays(t.details.schedule_next_payment.date,6),"EEEE 'd' d MMMM")," ")}}function C(n,a){if(1&n&&(e.TgZ(0,"ion-text",42),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.xi3(2,1,t.addDays(t.details.schedule_next_payment.date,4),"EEEE 'd' d MMMM")," ")}}function D(n,a){if(1&n&&(e.TgZ(0,"ion-text",42),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.xi3(2,1,t.addDays(t.details.schedule_next_payment.date,3),"EEEE 'd' d MMMM")," ")}}function q(n,a){1&n&&e._UZ(0,"ion-icon",59)}function S(n,a){1&n&&e._UZ(0,"ion-icon",60)}function U(n,a){1&n&&(e.TgZ(0,"p"),e._uU(1,"Hver uge"),e.qZA())}function I(n,a){1&n&&(e.TgZ(0,"p"),e._uU(1,"Hver 3. uge"),e.qZA())}function E(n,a){1&n&&(e.TgZ(0,"p"),e._uU(1,"Hver 2. uge"),e.qZA())}function O(n,a){1&n&&(e.TgZ(0,"p"),e._uU(1,"Hver 4. uge"),e.qZA())}function N(n,a){1&n&&(e.TgZ(0,"p"),e._uU(1,"Ingen note"),e.qZA())}function w(n,a){1&n&&e._UZ(0,"ion-icon",59)}function J(n,a){1&n&&e._UZ(0,"ion-icon",60)}const p=function(){return["fas","pencil-alt"]};function B(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"ion-row",61),e.TgZ(1,"ion-col",62),e._uU(2),e.qZA(),e.TgZ(3,"ion-col",63),e.TgZ(4,"ion-text"),e._uU(5),e.ALo(6,"number"),e.qZA(),e._UZ(7,"br"),e.TgZ(8,"ion-text"),e._uU(9),e.qZA(),e.qZA(),e.TgZ(10,"ion-col",64),e.TgZ(11,"fa-icon",65),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).openEditModal(s.id,s.name,s.quantity)}),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=a.$implicit,i=e.oxw(2);e.xp6(2),e.hij(" ",t.name," "),e.xp6(3),e.hij(" ",e.lcZ(6,4,i.addNumbers(t.total,t.total_tax))," kr. "),e.xp6(4),e.hij(" ",t.quantity," stk. "),e.xp6(2),e.Q6J("icon",e.DdM(6,p))}}function Q(n,a){1&n&&e._UZ(0,"ion-icon",59)}function H(n,a){1&n&&e._UZ(0,"ion-icon",60)}const F=function(){return["fas","times"]};function j(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"p",67),e._uU(1),e.TgZ(2,"fa-icon",68),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(3).removeCoupon(s.code)}),e.qZA(),e.qZA()}if(2&n){const t=a.$implicit;e.xp6(1),e.hij(" Rabatkode: ",t.code," "),e.xp6(1),e.Q6J("icon",e.DdM(2,F))}}function Y(n,a){if(1&n&&(e.TgZ(0,"div"),e.TgZ(1,"span",51),e._uU(2,"Rabat"),e.qZA(),e.TgZ(3,"span",52),e._uU(4),e.ALo(5,"number"),e.qZA(),e.YNc(6,j,3,3,"p",66),e._UZ(7,"hr"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(4),e.hij(" -",e.lcZ(5,2,t.addNumbers(t.details.discount_total,t.details.discount_tax))," kr. "),e.xp6(2),e.Q6J("ngForOf",t.details.coupon_lines)}}function z(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",28),e.TgZ(1,"div",29),e.TgZ(2,"div"),e.TgZ(3,"p",30),e._uU(4,"Din M\xe5ltidskasse"),e.qZA(),e.qZA(),e.TgZ(5,"div"),e.YNc(6,P,4,1,"p",31),e.YNc(7,M,4,1,"p",31),e.qZA(),e.qZA(),e.TgZ(8,"div",32),e.TgZ(9,"div",33),e.NdJ("click",function(){return e.CHM(t),e.oxw().showContent()}),e._UZ(10,"ion-icon",34),e.TgZ(11,"h6"),e._uU(12,"N\xe6ste levering"),e.qZA(),e.YNc(13,A,3,4,"ion-text",35),e.YNc(14,C,3,4,"ion-text",35),e.YNc(15,D,3,4,"ion-text",35),e.YNc(16,q,1,0,"ion-icon",36),e.YNc(17,S,1,0,"ion-icon",37),e.qZA(),e.TgZ(18,"div",38),e.TgZ(19,"p",39),e._uU(20," Leveres"),e.TgZ(21,"fa-icon",40),e.NdJ("click",function(){return e.CHM(t),e.oxw().frek()}),e.qZA(),e.qZA(),e.YNc(22,U,2,0,"p",9),e.YNc(23,I,2,0,"p",9),e.YNc(24,E,2,0,"p",9),e.YNc(25,O,2,0,"p",9),e.TgZ(26,"p",39),e._uU(27," Leveringsadresse"),e.TgZ(28,"fa-icon",40),e.NdJ("click",function(){return e.CHM(t),e.oxw().adresse()}),e.qZA(),e.qZA(),e.TgZ(29,"p"),e._uU(30),e._UZ(31,"br"),e._uU(32),e._UZ(33,"br"),e._uU(34),e.qZA(),e.TgZ(35,"p",39),e._uU(36," Note"),e.TgZ(37,"fa-icon",40),e.NdJ("click",function(){return e.CHM(t),e.oxw().note()}),e.qZA(),e.qZA(),e.TgZ(38,"p"),e._uU(39),e.qZA(),e.YNc(40,N,2,0,"p",9),e.qZA(),e.qZA(),e.TgZ(41,"div",32),e.TgZ(42,"div",33),e.NdJ("click",function(){return e.CHM(t),e.oxw().showContentKasse()}),e._UZ(43,"ion-icon",41),e.TgZ(44,"h6"),e._uU(45,"M\xe5ltidskassen"),e.qZA(),e.TgZ(46,"ion-text",42),e._uU(47),e.qZA(),e.YNc(48,w,1,0,"ion-icon",36),e.YNc(49,J,1,0,"ion-icon",37),e.qZA(),e.TgZ(50,"div",43),e.TgZ(51,"ion-grid",44),e.YNc(52,B,12,7,"ion-row",45),e.qZA(),e.TgZ(53,"ion-button",46),e.NdJ("click",function(){return e.CHM(t),e.oxw().presentModal()}),e._uU(54,"Tilf\xf8j andet"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(55,"div",47),e.NdJ("click",function(){return e.CHM(t),e.oxw().showContentBetaling()}),e.TgZ(56,"div",48),e._UZ(57,"ion-icon",49),e.TgZ(58,"h6"),e._uU(59,"Betaling"),e.qZA(),e.TgZ(60,"ion-text",42),e._uU(61),e.ALo(62,"number"),e.qZA(),e.YNc(63,Q,1,0,"ion-icon",36),e.YNc(64,H,1,0,"ion-icon",37),e.qZA(),e.TgZ(65,"div",50),e.TgZ(66,"span",51),e._uU(67,"Subtotal"),e.qZA(),e.TgZ(68,"span",52),e._uU(69),e.qZA(),e._UZ(70,"hr"),e.TgZ(71,"span",51),e._uU(72,"Levering"),e.qZA(),e.TgZ(73,"span",52),e._uU(74),e.ALo(75,"number"),e.qZA(),e._UZ(76,"hr"),e.YNc(77,Y,8,4,"div",9),e.TgZ(78,"span",53),e._uU(79,"Total"),e.qZA(),e.TgZ(80,"span",54),e._uU(81),e.ALo(82,"number"),e.qZA(),e._UZ(83,"hr"),e.TgZ(84,"div",55),e.TgZ(85,"p",51),e._uU(86,"Betalingsmetode"),e.qZA(),e.TgZ(87,"p"),e._uU(88),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(6),e.Q6J("ngIf","active"===t.details.status),e.xp6(1),e.Q6J("ngIf","on-hold"===t.details.status),e.xp6(6),e.Q6J("ngIf",t.details.shipping.postcode>3699&&t.details.shipping.postcode<3800),e.xp6(1),e.Q6J("ngIf","Levering til d\xf8ren"==(null==t.details.shipping_lines[0]?null:t.details.shipping_lines[0].method_title)&&t.details.shipping.postcode>3800||t.details.shipping.postcode<3699),e.xp6(1),e.Q6J("ngIf","Levering til d\xf8ren"!=(null==t.details.shipping_lines[0]?null:t.details.shipping_lines[0].method_title)&&t.details.shipping.postcode>3800||t.details.shipping.postcode<3699),e.xp6(1),e.Q6J("ngIf",t.hidden),e.xp6(1),e.Q6J("ngIf",!t.hidden),e.xp6(4),e.Q6J("icon",e.DdM(40,p)),e.xp6(1),e.Q6J("ngIf","1"===t.details.billing_interval),e.xp6(1),e.Q6J("ngIf","3"===t.details.billing_interval),e.xp6(1),e.Q6J("ngIf","2"===t.details.billing_interval),e.xp6(1),e.Q6J("ngIf","4"===t.details.billing_interval),e.xp6(3),e.Q6J("icon",e.DdM(41,p)),e.xp6(2),e.AsE(" ",t.details.shipping.first_name," ",t.details.shipping.last_name," "),e.xp6(2),e.AsE(" ",t.details.shipping.address_1," ",t.details.shipping.address_2," "),e.xp6(2),e.AsE(" ",t.details.shipping.postcode," ",t.details.shipping.city," "),e.xp6(3),e.Q6J("icon",e.DdM(42,p)),e.xp6(2),e.Oqu(t.details.customer_note),e.xp6(1),e.Q6J("ngIf",!t.details.customer_note),e.xp6(7),e.hij(" ",t.details.line_items.length," produkter "),e.xp6(1),e.Q6J("ngIf",t.hiddenkasse),e.xp6(1),e.Q6J("ngIf",!t.hiddenkasse),e.xp6(3),e.Q6J("ngForOf",t.details.line_items),e.xp6(9),e.hij(" ",e.lcZ(62,34,t.details.total)," kr. "),e.xp6(2),e.Q6J("ngIf",t.hiddenbetaling),e.xp6(1),e.Q6J("ngIf",!t.hiddenbetaling),e.xp6(5),e.hij(" ",t.addNumbers(t.details.total-t.details.shipping_total-t.details.shipping_tax,t.addNumbers(t.details.discount_total,t.details.discount_tax))," kr. "),e.xp6(5),e.hij(" ",e.lcZ(75,36,t.addNumbers(t.details.shipping_total,t.details.shipping_tax))," kr. "),e.xp6(3),e.Q6J("ngIf",t.details.discount_total>0),e.xp6(4),e.hij("",e.lcZ(82,38,t.details.total)," kr."),e.xp6(7),e.Oqu(t.details.payment_method_title)}}function L(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"ion-item",69),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).pause()}),e._UZ(1,"ion-icon",72),e.TgZ(2,"ion-label"),e._uU(3," S\xe6t p\xe5 pause "),e.qZA(),e.qZA()}}function R(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"ion-item",69),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).pause()}),e._UZ(1,"ion-icon",73),e.TgZ(2,"ion-label"),e._uU(3," Aktiv\xe9r "),e.qZA(),e.qZA()}}function G(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"ion-item",69),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).openDateModal()}),e._UZ(1,"ion-icon",74),e.TgZ(2,"ion-label"),e._uU(3," Ryk n\xe6ste levering "),e.qZA(),e.qZA()}}function V(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"ion-item",69),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).afmeld()}),e._UZ(1,"ion-icon",75),e.TgZ(2,"ion-label"),e._uU(3," Afmeld m\xe5ltidskasse "),e.qZA(),e.qZA()}}function $(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"h3"),e._uU(2,"Handlinger"),e.qZA(),e.TgZ(3,"ion-item",69),e.NdJ("click",function(){return e.CHM(t),e.oxw().coupon()}),e._UZ(4,"ion-icon",70),e.TgZ(5,"ion-label"),e._uU(6," Tilf\xf8j rabatkode "),e.qZA(),e.qZA(),e.YNc(7,L,4,0,"ion-item",71),e.YNc(8,R,4,0,"ion-item",71),e.YNc(9,G,4,0,"ion-item",71),e.YNc(10,V,4,0,"ion-item",71),e.qZA()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("ngIf","active"===t.details.status),e.xp6(1),e.Q6J("ngIf","on-hold"===t.details.status),e.xp6(1),e.Q6J("ngIf","active"===t.details.status),e.xp6(1),e.Q6J("ngIf","cancelled"!=t.details.status)}}function K(n,a){if(1&n&&(e.TgZ(0,"ion-item"),e.TgZ(1,"ion-label"),e._uU(2),e.ALo(3,"titlecase"),e.ALo(4,"date"),e.ALo(5,"titlecase"),e.ALo(6,"date"),e.qZA(),e._UZ(7,"ion-radio",76),e.qZA()),2&n){const t=a.$implicit;e.xp6(2),e.AsE("",e.lcZ(3,3,e.xi3(4,5,t,"EEEE"))," d. ",e.lcZ(5,8,e.xi3(6,10,t,"d MMMM")),""),e.xp6(5),e.s9C("value",t)}}const W=function(){return["fas","minus"]},X=function(){return["fas","plus"]},ee=[{path:"",component:(()=>{class n{constructor(t,i,o,s,c){this.activatedRoute=t,this.authService=i,this.alertController=o,this.modalController=s,this.router=c,this.id=this.activatedRoute.snapshot.paramMap.get("id"),this.details=null,this.date=new Date,this.response=null,this.total=null,this.load="",this.noticeopen=!0,this.sundays=[],this.saveddate="",this.hidden=!0,this.hiddenkasse=!0,this.hiddenbetaling=!0}saveDate(t){this.saveddate=t}addToInput(t,i){var o=parseInt(t.value,10)||0;t.value=(o+=i)<1?1:o}increment(){this.addToInput(document.getElementById("prodquant"),1)}decrement(){this.addToInput(document.getElementById("prodquant"),-1)}addDays(t,i){var o=new Date(t);return o.setDate(o.getDate()+i),o}addNumbers(t,i){return Number(t)+Number(i)}ngOnInit(){let t=this.activatedRoute.snapshot.paramMap.get("id");this.authService.subdetails(t).subscribe(s=>{console.log(s),this.details=s,this.date=this.details.schedule_next_payment.date,this.date=this.addDays(this.date,4)});var i=new Date;i.setDate(i.getDate()+4),i.setDate(i.getDate()+7-i.getDay());for(var o=0;o<12;o++)this.sundays.push(new Date(i.getTime())),i.setDate(i.getDate()+7)}presentModal(){return(0,r.mG)(this,void 0,void 0,function*(){let t=this.activatedRoute.snapshot.paramMap.get("id");const i=yield this.modalController.create({component:x.c,cssClass:"product-modal",componentProps:{subid:t}});yield i.present();const o=yield i.onDidDismiss();o&&(console.log(o.data),o.data&&(this.details=o.data))})}openEditModal(t,i,o){document.getElementById("editmodal").style.display="block",document.getElementById("overlay").style.display="block",document.getElementById("prodquant").setAttribute("value",o),document.getElementById("editmodal").setAttribute("data-prodid",t),document.getElementById("productname").innerHTML=i,setTimeout(function(){document.getElementById("overlay").addEventListener("click",function(){document.getElementById("editmodal").style.display="none",document.getElementById("overlay").style.display="none"})},200)}openDateModal(){document.getElementById("datomodal").style.display="block",document.getElementById("overlay").style.display="block",setTimeout(function(){document.getElementById("overlay").addEventListener("click",function(){document.getElementById("datomodal").style.display="none",document.getElementById("overlay").style.display="none"})},200)}removeProduct(){this.load="Fjerner produkt...";let t=this.activatedRoute.snapshot.paramMap.get("id"),i=document.getElementById("editmodal").getAttribute("data-prodid"),o=document.getElementById("productname").innerHTML;console.log(i,t,o),this.authService.removeProduct(i,t,o).subscribe(s=>{document.getElementById("editmodal").style.display="none",document.getElementById("overlay").style.display="none",this.details=s,this.load=""})}changeDate(){this.load="\xc6ndrer dato...";let t=this.activatedRoute.snapshot.paramMap.get("id"),o=new Date(this.saveddate).toISOString();this.authService.changeDate(o,t).subscribe(s=>{this.details=s,this.load="",document.getElementById("datomodal").style.display="none",document.getElementById("overlay").style.display="none"})}removeCoupon(t){this.load="Fjerner rabatkode...",console.log(t);let i=this.activatedRoute.snapshot.paramMap.get("id");this.authService.removeCoupon(i,t).subscribe(()=>{this.authService.subdetails(i).subscribe(o=>{this.details=o}),this.load=""})}changeQuantity(){this.load="\xc6ndrer antal...";let t=this.activatedRoute.snapshot.paramMap.get("id"),i=document.getElementById("editmodal").getAttribute("data-prodid"),o=document.getElementById("productname").innerHTML;var s=document.getElementById("prodquant").value;this.authService.changeQuantity(i,t,s,o).subscribe(c=>{this.details=c,this.load="",document.getElementById("editmodal").style.display="none",document.getElementById("overlay").style.display="none"})}frek(){return(0,r.mG)(this,void 0,void 0,function*(){"1"===this.details.billing_interval?yield(yield this.alertController.create({cssClass:"my-custom-class",header:"V\xe6lg Frekvens",message:"Hvor ofte vil du have leveret",buttons:[{text:"Hver anden uge",handler:()=>{this.frekvens(2)}},{text:"Hver tredje uge",handler:()=>{this.frekvens(3)}},{text:"Hver fjerde uge",handler:()=>{this.frekvens(4)}}]})).present():"2"===this.details.billing_interval?yield(yield this.alertController.create({cssClass:"my-custom-class",header:"V\xe6lg Frekvens",message:"Hvor ofte vil du have leveret",buttons:[{text:"Hver uge",handler:()=>{this.frekvens(1)}},{text:"Hver tredje uge",handler:()=>{this.frekvens(3)}},{text:"Hver fjerde uge",handler:()=>{this.frekvens(4)}}]})).present():"3"===this.details.billing_interval?yield(yield this.alertController.create({cssClass:"my-custom-class",header:"V\xe6lg Frekvens",message:"Hvor ofte vil du have leveret",buttons:[{text:"Hver uge",handler:()=>{this.frekvens(1)}},{text:"Hver anden uge",handler:()=>{this.frekvens(2)}},{text:"Hver fjerde uge",handler:()=>{this.frekvens(4)}}]})).present():yield(yield this.alertController.create({cssClass:"my-custom-class",header:"V\xe6lg Frekvens",message:"Hvor ofte vil du have leveret",buttons:[{text:"Hver uge",handler:()=>{this.frekvens(1)}},{text:"Hver anden uge",handler:()=>{this.frekvens(2)}},{text:"Hver tredje uge",handler:()=>{this.frekvens(3)}}]})).present()})}frekvens(t){let i=this.activatedRoute.snapshot.paramMap.get("id");this.load="\xc6ndrer frekvens...",this.authService.frekvens(i,t).subscribe(o=>{this.details=o,this.authService.orderNote(i,"Interval \xe6ndret fra app til: "+t).subscribe(s=>{}),this.load=""})}pause(){return(0,r.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"sikker",header:"Er du sikker?",buttons:[{text:"Fortryd",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"Yes!",handler:()=>{let i=this.activatedRoute.snapshot.paramMap.get("id");"active"===this.details.status?(this.load="S\xe6tter p\xe5 pause...",this.authService.status(i,"on-hold").subscribe(o=>{this.details=o,this.load=""})):"on-hold"===this.details.status&&(this.load="Aktiverer...",this.authService.status(i,"active").subscribe(o=>{this.details=o,this.date=this.details.schedule_next_payment.date,this.date=this.addDays(this.date,4),this.load=""}))}}]})).present()})}coupon(){return(0,r.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"my-custom-class",header:"Tilf\xf8j rabatkode",inputs:[{name:"coupon",placeholder:"Rabatkode"}],buttons:[{text:"Fortryd",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"Bekr\xe6ft",handler:i=>{let o=this.activatedRoute.snapshot.paramMap.get("id");this.load="Tilf\xf8jer rabatkode...",this.authService.coupon(o,i.coupon).subscribe(s=>{this.details=s,this.load=""})}}]})).present()})}afmeld(){return(0,r.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"my-custom-class",header:"Afmelding",subHeader:"Vi vil s\xe6tte stor pris hvis du vil fort\xe6lle os hvorfor du \xf8nsker at afmelde, s\xe5 vi kan forbedre os!",inputs:[{name:"reason",placeholder:"\xc5rsag"}],buttons:[{text:"Fortryd",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"Bekr\xe6ft",handler:i=>{let o=this.activatedRoute.snapshot.paramMap.get("id");"cancelled"!=this.details.status&&(this.load="Afmelder...",this.authService.status(o,"cancelled").subscribe(s=>{this.details=s,this.authService.orderNote(o,"Afmeldt- Fra app: "+i.reason).subscribe(c=>{}),this.authService.cancelReason(this.details.customer_id,i.reason).subscribe(c=>{}),this.load="Afmeldt!",this.router.navigate(["/"])}))}}]})).present()})}showContent(){this.hidden?(document.getElementById("leveringscontent").style.display="block",this.hidden=!1):(document.getElementById("leveringscontent").style.display="none",this.hidden=!0)}showContentKasse(){this.hiddenkasse?(document.getElementById("kassecontent").style.display="block",this.hiddenkasse=!1):(document.getElementById("kassecontent").style.display="none",this.hiddenkasse=!0)}showContentBetaling(){this.hiddenbetaling?(document.getElementById("betalingcontent").style.display="block",this.hiddenbetaling=!1):(document.getElementById("betalingcontent").style.display="none",this.hiddenbetaling=!0)}info(){return(0,r.mG)(this,void 0,void 0,function*(){yield(yield this.modalController.create({component:Z.k,cssClass:"product-modal"})).present()})}closeNotice(){this.noticeopen=!1}note(){return(0,r.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"notealert",header:"Leveringsnote",inputs:[{name:"note",type:"textarea",placeholder:"Fort\xe6l os hvis der er noget vi skal tage h\xf8jde for ved levering(d\xf8rkode, sted mm.). Vi fors\xf8ger altid at s\xe6tte kassen ved ford\xf8ren, og alternativt et passende sted i l\xe6."}],buttons:[{text:"Fortryd",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"Bekr\xe6ft",handler:i=>{this.load="Skifter note";let o=this.activatedRoute.snapshot.paramMap.get("id");this.authService.addNote(o,i.note).subscribe(s=>{this.details=s,this.authService.orderNote(o,"Note \xe6ndret - Fra app: "+i.note).subscribe(c=>{}),this.load=""})}}]})).present()})}adresse(){return(0,r.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"adressealert",header:"Leveringsadresse",inputs:[{name:"first_name",type:"text",placeholder:"Fornavn"},{name:"last_name",type:"text",placeholder:"Efternavn"},{name:"address_1",type:"text",placeholder:"Vejnavn og nr."},{name:"address_2",type:"text",placeholder:"Etage, d\xf8r, mm."},{name:"postcode",type:"text",placeholder:"Postnummer"},{name:"city",type:"text",placeholder:"By"}],buttons:[{text:"Fortryd",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"Bekr\xe6ft",handler:i=>{this.load="Skifter adresse";let o=this.activatedRoute.snapshot.paramMap.get("id");this.authService.addAdresse(o,i).subscribe(s=>{this.details=s,this.load=""})}}]})).present()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.gz),e.Y36(b.$),e.Y36(l.Br),e.Y36(l.IN),e.Y36(g.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-sub-details"]],decls:32,vars:10,consts:[[1,"headergrid"],["text","","defaultHref","/"],["alt","logo","height","40","src","/assets/icon/logo.svg"],["slot","icon-only","name","help",2,"font-size","24px",3,"click"],["id","overlay"],["style","text-align: center",4,"ngIf"],["class","spin",4,"ngIf"],["class","loadbar",4,"ngIf"],["color","light",4,"ngIf"],[4,"ngIf"],["id","editmodal"],["id","productname",1,"text-center"],[1,"text-center",2,"margin","10px 0"],[1,"editicon",3,"icon","click"],["label","Antal","value","1","type","number","min","1","step","1","max","","id","prodquant","name","prodquant",2,"width","50px","vertical-align","super"],[1,"modalbuttons",2,"margin-top","10px"],[2,"color","red",3,"click"],[2,"color","#304f23",3,"click"],["id","datomodal"],[3,"ionChange"],[1,"pris"],[1,"sundays"],[4,"ngFor","ngForOf"],[2,"text-align","center"],[1,"spin"],["color","primary","name","crescent"],[1,"loadbar"],["color","light","name","crescent"],["color","light"],[1,"abonnement"],["id","overskrift"],["id","id",4,"ngIf"],[1,"collapsible"],["button","",1,"grid154045",3,"click"],["size","small","src","/assets/icon/truck.svg"],["style","font-size: 12px; color: grey",4,"ngIf"],["style","font-size:16px;color:#ff9920","name","chevron-down",4,"ngIf"],["style","font-size:16px;color:#ff9920","name","chevron-up",4,"ngIf"],["id","leveringscontent"],[1,"subtitle1"],[1,"edit",3,"icon","click"],["size","small","src","/assets/icon/box.svg"],[2,"font-size","12px","color","grey"],["id","kassecontent"],[1,"kort"],["style","align-items: center",4,"ngFor","ngForOf"],["expand","block","color","primary",3,"click"],["button","",1,"collapsible",3,"click"],[1,"grid154045"],["size","small","src","/assets/icon/card.svg"],["id","betalingcontent"],[1,"adresselabel"],[1,"adressevalue"],[1,"price",2,"float","left"],[1,"price",2,"float","right"],[2,"width","100%"],["id","id"],[2,"color","#00ba65"],[2,"color","#b00020"],["name","chevron-down",2,"font-size","16px","color","#ff9920"],["name","chevron-up",2,"font-size","16px","color","#ff9920"],[2,"align-items","center"],["size","8",1,"produkt"],["size","3",2,"font-size","14px"],["size","1"],[3,"icon","click"],["style","margin: 10px 0",4,"ngFor","ngForOf"],[2,"margin","10px 0"],[2,"color","red",3,"icon","click"],["button","",3,"click"],["slot","start","name","cash-outline",1,"subicon"],["button","",3,"click",4,"ngIf"],["slot","start","name","pause-circle",1,"subicon"],["slot","start","name","play-circle",1,"subicon"],["slot","start","name","play-forward-circle",1,"subicon"],["slot","start","name","trash",1,"subicon"],["slot","end","color","primary",3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-content"),e.TgZ(1,"div",0),e._UZ(2,"ion-back-button",1),e._UZ(3,"img",2),e.TgZ(4,"ion-icon",3),e.NdJ("click",function(){return i.info()}),e.qZA(),e.qZA(),e._UZ(5,"div",4),e.YNc(6,y,2,1,"h4",5),e.YNc(7,T,2,0,"div",6),e.YNc(8,k,4,1,"div",7),e.YNc(9,z,89,43,"div",8),e.YNc(10,$,11,4,"div",9),e.TgZ(11,"div",10),e.TgZ(12,"strong"),e._UZ(13,"p",11),e.qZA(),e.TgZ(14,"div",12),e.TgZ(15,"fa-icon",13),e.NdJ("click",function(){return i.decrement()}),e.qZA(),e._UZ(16,"input",14),e.TgZ(17,"fa-icon",13),e.NdJ("click",function(){return i.increment()}),e.qZA(),e.qZA(),e.TgZ(18,"div",15),e.TgZ(19,"div",16),e.NdJ("click",function(){return i.removeProduct()}),e._uU(20,"Fjern vare(r)"),e.qZA(),e.TgZ(21,"div",17),e.NdJ("click",function(){return i.changeQuantity()}),e._uU(22,"Gem \xe6ndringer"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"div",18),e.TgZ(24,"ion-radio-group",19),e.NdJ("ionChange",function(s){return i.saveDate(s.detail.value)}),e.TgZ(25,"ion-text",20),e._uU(26,"Hvorn\xe5r vil du have din n\xe6ste kasse?"),e.qZA(),e.TgZ(27,"div",21),e.YNc(28,K,8,13,"ion-item",22),e.qZA(),e.qZA(),e.TgZ(29,"div",15),e.TgZ(30,"div",17),e.NdJ("click",function(){return i.changeDate()}),e._uU(31,"Gem \xe6ndringer"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(6),e.Q6J("ngIf",i.details),e.xp6(1),e.Q6J("ngIf",!i.details),e.xp6(1),e.Q6J("ngIf",i.load),e.xp6(1),e.Q6J("ngIf",i.details),e.xp6(1),e.Q6J("ngIf",i.details),e.xp6(5),e.Q6J("icon",e.DdM(8,W)),e.xp6(2),e.Q6J("icon",e.DdM(9,X)),e.xp6(11),e.Q6J("ngForOf",i.sundays))},directives:[l.W2,l.oU,l.cs,l.gu,u.O5,l.PQ,l.yW,m.BN,l.jY,u.sg,l.Nd,l.wI,l.YG,l.Ie,l.Q$,l.se,l.QI,l.B7,l.U5],pipes:[u.uU,u.JJ,u.rS],styles:["#overlay[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;display:none;top:0;left:0;right:0;bottom:0;background-color:#41262680;z-index:9;cursor:pointer}ion-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:20px}ion-icon[_ngcontent-%COMP%]{font-size:40px;color:#304f23}ion-card[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{font-size:17px;font-weight:500}h1[_ngcontent-%COMP%]{margin-top:10px}.status[_ngcontent-%COMP%]{font-weight:600;font-size:18px}ion-card-content[_ngcontent-%COMP%]{padding:5px}ion-button[_ngcontent-%COMP%]{--border-radius: 12px;--padding-top:0px;--padding-bottom:0px;margin:0}.total[_ngcontent-%COMP%]{font-weight:600}ion-card-header[_ngcontent-%COMP%]{text-align:center}.kort[_ngcontent-%COMP%]{padding:0;margin:20px 0}ion-img[_ngcontent-%COMP%]::part(image){border-radius:12px}.spin[_ngcontent-%COMP%]{text-align:center;margin-top:100px}.spin[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{transform:scale(3);stroke:#fff;fill:#fff}.loadbar[_ngcontent-%COMP%]{width:200px;height:30px;margin:auto;display:flex;align-items:center;justify-content:center;border-radius:25px;background-color:#46b064;text-align:center;position:fixed;left:50%;transform:translate(-50%);top:90%;z-index:100}.abonnement[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto;padding:10px;line-height:normal;grid-row-gap:20px;row-gap:20px;justify-items:center}.abonnement[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:40px;width:auto;color:#304f23}.contentheading[_ngcontent-%COMP%]{color:#304f23}.abonnement[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{align-self:center}p[_ngcontent-%COMP%]{margin:10px 0}#id[_ngcontent-%COMP%]{font-size:12px;text-align:left}#overskrift[_ngcontent-%COMP%]{font-size:16px;font-weight:700;text-align:left}.collapsible[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], ion-text[_ngcontent-%COMP%]{align-self:center}.collapsible[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{justify-self:center}#leveringscontent[_ngcontent-%COMP%]{display:none;margin:10px;overflow:auto}#kassecontent[_ngcontent-%COMP%]{display:none;margin:0}#betalingcontent[_ngcontent-%COMP%]{display:none;margin:10px;overflow:auto}.adressegrid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr}.noticelabel[_ngcontent-%COMP%]{font-size:15px;font-weight:500}.noticevalue[_ngcontent-%COMP%]{font-size:15px;font-weight:600;text-align:right}.subicon[_ngcontent-%COMP%]{font-size:24px}fa-icon[_ngcontent-%COMP%]{color:#ff9920}.notice[_ngcontent-%COMP%]{width:100%;text-align:center;font-family:Quicksand,sans-serif;background-color:#d0eebe;border-radius:5px;padding:10px;box-shadow:2px 2px 10px 2px #e0e0e0}.notice[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{float:right}.produkt[_ngcontent-%COMP%]{font-weight:500}.price[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.15px;color:#ff9920;margin:20px}.alert-input-wrapper[_ngcontent-%COMP%]{min-height:400px}#editmodal[_ngcontent-%COMP%], #datomodal[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;background-color:#fff;position:fixed;z-index:10;padding:10px;top:100px;left:50%;transform:translate(-50%);display:none;border-radius:10px;box-shadow:0 0 38px #0000004d,10px 15px 12px #00000038}#productname[_ngcontent-%COMP%]{font-size:20px;padding:5px 0}.editicon[_ngcontent-%COMP%]{vertical-align:super;font-size:20px;padding:0 10px}#editmodal[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{width:40px;vertical-align:top;text-align:center;border-style:hidden;font-size:2rem}#editmodal[_ngcontent-%COMP%]   .modalbuttons[_ngcontent-%COMP%]{width:100%;font-weight:700;padding:10px;display:grid;grid-template-columns:1fr 1fr;grid-column-gap:10px;-moz-column-gap:10px;column-gap:10px}#datomodal[_ngcontent-%COMP%]   .modalbuttons[_ngcontent-%COMP%]{width:100%;font-weight:700;padding:10px;text-align:center}#editmodal[_ngcontent-%COMP%]   .modalbuttons[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{justify-self:center}.sundays[_ngcontent-%COMP%]{max-height:400px;overflow:auto;margin:10px 0}.sundays[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background-activated: #304f23}"]}),n})()}];let te=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[g.Bz.forChild(ee)],g.Bz]}),n})(),ne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.ez,v.u5,l.Pc,te,f.OversigtinfoPageModule,h.ProductsPageModule,m.uH]]}),n})()}}]);