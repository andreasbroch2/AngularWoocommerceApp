"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[420],{420:(C,m,r)=>{r.r(m),r.d(m,{Tab3PageModule:()=>v});var o=r(8526),d=r(6010),h=r(9808),g=r(2382),c=r(655),u=r(9892),f=r(6052),e=r(1223),Z=r(7053);function T(t,a){1&t&&(e.TgZ(0,"div",7),e._UZ(1,"ion-spinner",8),e.qZA())}function x(t,a){if(1&t&&(e.TgZ(0,"h3",9),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.hij(" Velkommen, ",n.kunde.billing.first_name," ")}}function b(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"ion-card"),e.TgZ(1,"ion-card-content"),e.TgZ(2,"ion-text",10),e._uU(3," Email"),e.TgZ(4,"ion-icon",11),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return i.kundeEmail(i.customer.customer.id)}),e.qZA(),e.qZA(),e.TgZ(5,"ion-text"),e._uU(6),e.qZA(),e.TgZ(7,"ion-text",10),e._uU(8," Telefon"),e.TgZ(9,"ion-icon",11),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return i.kundeTelefon(i.customer.customer.id)}),e.qZA(),e.qZA(),e.TgZ(10,"ion-text"),e._uU(11),e.qZA(),e.TgZ(12,"ion-text",10),e._uU(13," Kontoadresse"),e.TgZ(14,"ion-icon",11),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return i.kundeAdresse(i.customer.customer.id)}),e.qZA(),e.qZA(),e.TgZ(15,"ion-grid"),e.TgZ(16,"ion-row"),e.TgZ(17,"ion-col",12),e.TgZ(18,"ion-text",13),e._uU(19,"Navn"),e.qZA(),e.qZA(),e.TgZ(20,"ion-col",14),e.TgZ(21,"ion-text",15),e._uU(22),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"ion-row"),e.TgZ(24,"ion-col",12),e.TgZ(25,"ion-text",13),e._uU(26,"Adresse"),e.qZA(),e.qZA(),e.TgZ(27,"ion-col",14),e.TgZ(28,"ion-text",15),e._uU(29),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"ion-row"),e.TgZ(31,"ion-col",12),e.TgZ(32,"ion-text",13),e._uU(33,"Postnr. og by"),e.qZA(),e.qZA(),e.TgZ(34,"ion-col",14),e.TgZ(35,"ion-text",15),e._uU(36),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const n=e.oxw();e.xp6(6),e.Oqu(n.kunde.billing.email),e.xp6(5),e.Oqu(n.kunde.billing.phone),e.xp6(11),e.AsE("",n.kunde.billing.first_name," ",n.kunde.billing.last_name,""),e.xp6(7),e.AsE("",n.kunde.billing.address_1," ",n.kunde.billing.address_2,""),e.xp6(7),e.AsE("",n.kunde.billing.postcode," ",n.kunde.billing.city,"")}}const _=function(){return["/","tabs","tab1"]};let p=(()=>{class t{constructor(n,l,i){this.authService=n,this.router=l,this.alertController=i,this.kunde=null,this.customer=null}ngOnInit(){return(0,c.mG)(this,void 0,void 0,function*(){yield u.s.requestPermissions(),this.authService.kunde().subscribe(n=>{this.customer=n,console.log(this.customer.customer.id),this.authService.customer(this.customer.customer.id).subscribe(l=>{this.kunde=l}),console.log(this.kunde)})})}ionViewWillEnter(){return(0,c.mG)(this,void 0,void 0,function*(){const{value:n}=yield f.K.get({key:"notifications"});this.toggleStatus=n,console.log(yield u.s.getPending())})}crazyEvent(n){return(0,c.mG)(this,void 0,void 0,function*(){yield f.K.set({key:"notifications",value:n}),n?yield u.s.schedule({notifications:[{title:"Venlig p\xe5mindelse",body:"Deadline for bestilling er i aften ved midnat",id:2,schedule:{at:new Date(2022,2,6,19,1),repeats:!0,every:"week"}}]}):yield u.s.cancel({notifications:[{id:2}]}),console.log(n)})}logout(){this.authService.logout(),this.router.navigate(["/"])}kundeAdresse(n){return(0,c.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"adressealert",header:"Kontoadresse",inputs:[{name:"first_name",type:"text",placeholder:"Fornavn"},{name:"last_name",type:"text",placeholder:"Efternavn"},{name:"address_1",type:"text",placeholder:"Vejnavn og nr."},{name:"address_2",type:"text",placeholder:"Etage, d\xf8r, mm."},{name:"postcode",type:"text",placeholder:"Postnummer"},{name:"city",type:"text",placeholder:"By"}],buttons:[{text:"Fortryd",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel")}},{text:"Bekr\xe6ft",handler:i=>{console.log(i),this.authService.addKundeAdresse(n,i).subscribe(s=>{this.kunde=s,console.log(this.kunde)})}}]})).present()})}kundeTelefon(n){return(0,c.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"telefonalert",header:"Telefonnummer",inputs:[{name:"phone",type:"number",placeholder:"Telefon"}],buttons:[{text:"Fortryd",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel")}},{text:"Bekr\xe6ft",handler:i=>{console.log(i),this.authService.addKundeTelefon(n,i.phone).subscribe(s=>{this.kunde=s,console.log(this.kunde)})}}]})).present()})}kundeEmail(n){return(0,c.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"emailealert",header:"Email",inputs:[{name:"email",type:"text",placeholder:"Email"}],buttons:[{text:"Fortryd",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel")}},{text:"Bekr\xe6ft",handler:i=>{console.log(i.email),this.authService.addKundeEmail(n,i.email).subscribe(s=>{this.kunde=s,console.log(this.kunde)})}}]})).present()})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(Z.$),e.Y36(d.F0),e.Y36(o.Br))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-tab3"]],decls:21,vars:6,consts:[["slot","start","alt","logo","height","40","src","/assets/icon/logo.svg",3,"routerLink"],["slot","end"],["class","spin",4,"ngIf"],["class","ion-text-center",4,"ngIf"],[4,"ngIf"],["color","primary",3,"ngModel","ngModelChange","ionChange"],["color","tertiary","expand","block",3,"click"],[1,"spin"],["color","primary","name","crescent"],[1,"ion-text-center"],[1,"contentheading"],["button","","size","small","name","pencil",1,"edit",3,"click"],["size","6"],[1,"adresselabel"],["size","6",2,"text-align","right"],[1,"adressevalue"]],template:function(n,l){1&n&&(e.TgZ(0,"ion-header"),e.TgZ(1,"ion-toolbar"),e._UZ(2,"img",0),e.TgZ(3,"ion-title"),e._uU(4,"Din Profil"),e.qZA(),e.TgZ(5,"ion-buttons",1),e._UZ(6,"ion-menu-button"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"ion-content"),e.YNc(8,T,2,0,"div",2),e.YNc(9,x,2,1,"h3",3),e.YNc(10,b,37,8,"ion-card",4),e.TgZ(11,"h6"),e._uU(12,"\xd8nsker du en notifikation f\xf8r deadline hver uge?"),e.qZA(),e.TgZ(13,"ion-text"),e._uU(14,"Ved at sl\xe5 notifikationer til vil du f\xe5 en notifikation hver tirsdag kl 16."),e.qZA(),e.TgZ(15,"ion-item"),e.TgZ(16,"ion-label"),e._uU(17,"Notifikationer"),e.qZA(),e.TgZ(18,"ion-toggle",5),e.NdJ("ngModelChange",function(s){return l.toggleStatus=s})("ionChange",function(s){return l.crazyEvent(s.detail.checked)}),e.qZA(),e.qZA(),e.TgZ(19,"ion-button",6),e.NdJ("click",function(){return l.logout()}),e._uU(20,"Log ud"),e.qZA(),e.qZA()),2&n&&(e.xp6(2),e.Q6J("routerLink",e.DdM(5,_)),e.xp6(6),e.Q6J("ngIf",!l.kunde),e.xp6(1),e.Q6J("ngIf",l.kunde),e.xp6(1),e.Q6J("ngIf",l.kunde),e.xp6(8),e.Q6J("ngModel",l.toggleStatus))},directives:[o.Gu,o.sr,o.YI,d.rH,o.wd,o.Sm,o.fG,o.W2,h.O5,o.PQ,o.PM,o.FN,o.yW,o.gu,o.jY,o.Nd,o.wI,o.Ie,o.Q$,o.ho,o.w,g.JJ,g.On,o.YG],styles:["ion-card-header[_ngcontent-%COMP%]{text-align:center}ion-button[_ngcontent-%COMP%]{--border-radius:100px;margin:10px}ion-icon[_ngcontent-%COMP%]{margin:0;color:#304f23}#adresse[_ngcontent-%COMP%]{text-align:center;font-size:20px}ion-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;margin:20px 0}ion-card-content[_ngcontent-%COMP%]{overflow:auto}ion-text[_ngcontent-%COMP%]{display:block}.spin[_ngcontent-%COMP%]{text-align:center;margin-top:100px;margin-bottom:50px}.spin[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{transform:scale(3);stroke:#fff;fill:#fff}.loadbar[_ngcontent-%COMP%]{width:200px;height:30px;margin:auto;display:flex;align-items:center;justify-content:center;border-radius:25px;background-color:#46b064;text-align:center;position:fixed;left:50%;transform:translate(-50%);top:90%;z-index:100}"]}),t})();var k=r(581);const y=[{path:"",component:p}];let A=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[d.Bz.forChild(y)],d.Bz]}),t})(),v=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[o.Pc,h.ez,g.u5,k.e,d.Bz.forChild([{path:"",component:p}]),A]]}),t})()}}]);